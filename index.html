const qs = new URLSearchParams(location.search);
const agentId = qs.get("agent_id") || qs.get("agentId");
const sessionId = qs.get("sessionId");

if (!sessionId) {
  throw new Error("Missing sessionId. Bitte Ã¼ber das Mitglieder-Portal starten.");
}

const res = await fetch(
  "https://www.skillslab-education.de/_functions/elevenlabsSignedUrl?agent_id="
  + encodeURIComponent(agentId)
  + "&sessionId="
  + encodeURIComponent(sessionId),
  { cache: "no-store" }
);
